<!DOCTYPE html>
<html>
<head>
<title>Admin Panel</title>
<link rel="stylesheet" href="styles.css">

<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"></script>
<script src="firebaseConfig.js"></script>
<script src="script.js"></script>
</head>

<body>

<div class="container">

    <h1>Admin Panel</h1>

    <div id="pinBox">
        <input type="password" id="pinInput" placeholder="Enter Admin PIN">
        <button onclick="checkPIN()">Login</button>
    </div>

    <div id="adminArea" class="hidden">
        <h2>Projector Usage Logs</h2>
        <button onclick="downloadCSV()">â¬‡ Download CSV</button>

        <table id="logTable">
            <thead>
                <tr>
                    <th>Status</th>
                    <th>By</th>
                    <th>Time</th>
                </tr>
            </thead>
            <tbody id="logBody">
            </tbody>
        </table>
    </div>
</div>

<script>
function checkPIN() {
    const pin = document.getElementById("pinInput").value;
    if(pin === "0654") {
        document.getElementById("pinBox").style.display = "none";
        document.getElementById("adminArea").classList.remove("hidden");
        loadLogs();
    } else {
        alert("Incorrect PIN");
    }
}
</script>

</body>
</html>
